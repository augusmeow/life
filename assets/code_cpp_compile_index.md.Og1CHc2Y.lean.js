import{_ as e,c as s,a3 as i,o as n}from"./chunks/framework.DDs3IadZ.js";const k=JSON.parse('{"title":"Compile","description":"","frontmatter":{"icon":"fluent-emoji-flat:person-running-light"},"headers":[],"relativePath":"code/cpp/compile/index.md","filePath":"code/cpp/compile/index.md","lastUpdated":1716791141000}'),t={name:"code/cpp/compile/index.md"};function l(r,a,o,p,d,h){return n(),s("div",null,a[0]||(a[0]=[i(`<h1 id="compile" tabindex="-1">Compile <a class="header-anchor" href="#compile" aria-label="Permalink to &quot;Compile&quot;">​</a></h1><h2 id="cannot-bind-lvalue-to" tabindex="-1">cannot bind ... lvalue to ... <a class="header-anchor" href="#cannot-bind-lvalue-to" aria-label="Permalink to &quot;cannot bind ... lvalue to ...&quot;">​</a></h2><p><code>error: cannot bind &#39;std::ostream {aka std::basic_ostream&lt;char&gt;}&#39; lvalue to &#39;std::basic_ostream&lt;char&gt;&amp;&amp;&#39;</code></p><h2 id="make-1-no-rule-to-make-target" tabindex="-1">make[1]: *** No rule to make target <a class="header-anchor" href="#make-1-no-rule-to-make-target" aria-label="Permalink to &quot;make[1]: *** No rule to make target&quot;">​</a></h2><p>清除之前生成的 build</p><h2 id="can-not-be-used-when-making-a-shared-object" tabindex="-1">can not be used when making a shared object <a class="header-anchor" href="#can-not-be-used-when-making-a-shared-object" aria-label="Permalink to &quot;can not be used when making a shared object&quot;">​</a></h2><div class="language-shell vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">shell</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">/usr/bin/ld:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> /usr/lib/gcc/x86_64-linux-gnu/7/crtbeginT.o:</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> relocation</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> R_X86_64_32</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> against</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> hidden</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> symbol</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> \`</span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">__TMC_END__&#39; can not be used when making a shared object</span></span></code></pre></div><h2 id="configure-error-c-compiler-cannot-create-executables" tabindex="-1">configure: error: C compiler cannot create executables <a class="header-anchor" href="#configure-error-c-compiler-cannot-create-executables" aria-label="Permalink to &quot;configure: error: C compiler cannot create executables&quot;">​</a></h2><p>在 x64 位机器上编译 x86 位程序时，报错 <code>configure: error: C compiler cannot create executables</code>。</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 确认主机内核为 x64 输出 amd64</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --print-architecture</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 确认打开了多架构支持 输出 i386</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --print-foreign-architectures</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 若没有</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">dpkg</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --add-architecture</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> i386</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> &amp;&amp; </span><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> update</span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 安装 gcc multilib</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">apt-get</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> install</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">  gcc-multilib</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> g++-multilib</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> </span></span>
<span class="line"><span style="--shiki-light:#6A737D;--shiki-dark:#6A737D;"># 编译加上 -m32</span></span></code></pre></div><h2 id="error-adding-symbols-dso-missing-from-command-line" tabindex="-1">error adding symbols: DSO missing from command line <a class="header-anchor" href="#error-adding-symbols-dso-missing-from-command-line" aria-label="Permalink to &quot;error adding symbols: DSO missing from command line&quot;">​</a></h2><div class="language-txt vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">txt</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span>/usr/bin/ld: build/release/objs/index_conn.o: undefined reference to symbol &#39;_ZN5boost6system15system_categoryEv&#39;</span></span>
<span class="line"><span>//usr/lib/x86_64-linux-gnu/libboost_system.so.1.55.0: error adding symbols: DSO missing from command line</span></span>
<span class="line"><span>collect2: error: ld returned 1 exit status</span></span>
<span class="line"><span>make[1]: *** [build/release/query_runner] Error 1</span></span></code></pre></div><p>sol: flag add <code>-lboost_system</code>, <code>:LDFLAGS += -L/usr/lib/boost -lboost_thread -lpthread -lboost_system</code></p><h2 id="undefined-reference-to-dpi-number-columns" tabindex="-1">undefined reference to \`dpi_number_columns&#39; <a class="header-anchor" href="#undefined-reference-to-dpi-number-columns" aria-label="Permalink to &quot;undefined reference to \`dpi_number_columns&#39;&quot;">​</a></h2><p>没有 -l此库</p><h2 id="is-incompatible-with-i386-x86-64-output" tabindex="-1">is incompatible with i386:x86-64 output <a class="header-anchor" href="#is-incompatible-with-i386-x86-64-output" aria-label="Permalink to &quot;is incompatible with i386:x86-64 output&quot;">​</a></h2><p>/usr/bin/ld: i386 architecture of input file \`xxx.a(log.o)&#39; is incompatible with i386:x86-64 output</p><p>将 xxx.a 库在当前机器上重新编译 或者 flag + <code>-m32</code><br> cmake <code>set_target_properties (your_project PROPERTIES LINK_FLAGS &quot;-m32&quot;)</code></p><h2 id="d-file-offset-bits-64" tabindex="-1">-D_FILE_OFFSET_BITS=64 <a class="header-anchor" href="#d-file-offset-bits-64" aria-label="Permalink to &quot;-D_FILE_OFFSET_BITS=64&quot;">​</a></h2><p><a href="https://digital-domain.net/largefiles.html" target="_blank" rel="noreferrer">https://digital-domain.net/largefiles.html</a></p>`,20)]))}const m=e(t,[["render",l]]);export{k as __pageData,m as default};
