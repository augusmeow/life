import{_ as V,o as m,c as y,j as t,a7 as v,a8 as f,a9 as P,F as g,C as k,t as o,a0 as q,e as w,a3 as I,G as A}from"./chunks/framework.DDs3IadZ.js";const M={data(){return{downPaymentRatio:30,loanAmount:200,loanRate:4.3,loanPeriod:30,repaymentType:"等额本息",repaymentResults:[],totalInterest:0,repaymentTotal:0,interestRatio:0,principalRatio:0}},methods:{calculate(){const b=this.downPaymentRatio/100,e=this.loanAmount*(1-b)*1e4,a=this.loanRate/100,s=this.loanPeriod*12,n=this.repaymentType,u=[];let l=e,r=0,h=b&&e&&a;if(console.log("wtf:",h,b,e,a,s,n),!h)return;if(n==="等额本息"){const p=a/12,x=e*p*Math.pow(1+p,s)/(Math.pow(1+p,s)-1);for(let d=1;d<=s;d++){const i=(l*p).toFixed(2),R=(x-i).toFixed(2),T=(parseFloat(i)+parseFloat(R)).toFixed(2);r+=parseFloat(i),l-=parseFloat(R),u.push({repayment:T,principal:R,interest:i,balance:l.toFixed(2)})}}else if(n==="等额本金"){const p=(e/s).toFixed(2);for(let x=1;x<=s;x++){const d=(l*a/12).toFixed(2),i=p,R=(parseFloat(d)+parseFloat(i)).toFixed(2);r+=parseFloat(d),l-=parseFloat(i),u.push({repayment:R,principal:i,interest:d,balance:l.toFixed(2)})}}this.totalInterest=r.toFixed(2);const F=r+e;this.repaymentTotal=F.toFixed(2),this.interestRatio=(r/F*100).toFixed(2),this.principalRatio=(e/F*100).toFixed(2),this.repaymentResults=u,console.log("hi:",this.totalInterest,this.repaymentTotal,this.interestRatio,this.principalRatio)}}},U=["value"],N={key:0};function S(b,e,a,s,n,u){return m(),y(g,null,[t("form",{onSubmit:e[6]||(e[6]=q(()=>{},["prevent"]))},[t("div",null,[e[7]||(e[7]=t("label",null,"首付比例(%)",-1)),v(t("input",{type:"number",min:"30",max:"100","onUpdate:modelValue":e[0]||(e[0]=l=>n.downPaymentRatio=l)},null,512),[[f,n.downPaymentRatio,void 0,{number:!0}]])]),t("div",null,[e[8]||(e[8]=t("label",null,"贷款总额(万)",-1)),v(t("input",{type:"number","onUpdate:modelValue":e[1]||(e[1]=l=>n.loanAmount=l)},null,512),[[f,n.loanAmount,void 0,{number:!0}]])]),t("div",null,[e[9]||(e[9]=t("label",null,"贷款年利率",-1)),v(t("input",{type:"number",step:"0.01","onUpdate:modelValue":e[2]||(e[2]=l=>n.loanRate=l)},null,512),[[f,n.loanRate,void 0,{number:!0}]])]),t("div",null,[e[10]||(e[10]=t("label",null,"贷款年限",-1)),v(t("select",{"onUpdate:modelValue":e[3]||(e[3]=l=>n.loanPeriod=l)},[(m(),y(g,null,k(30,l=>t("option",{value:l},o(l)+"年",9,U)),64))],512),[[P,n.loanPeriod]])]),t("div",null,[e[12]||(e[12]=t("label",null,"还款方式",-1)),v(t("select",{"onUpdate:modelValue":e[4]||(e[4]=l=>n.repaymentType=l)},e[11]||(e[11]=[t("option",{value:"等额本息"},"等额本息",-1),t("option",{value:"等额本金"},"等额本金",-1)]),512),[[P,n.repaymentType]])]),t("div",null,[t("button",{onClick:e[5]||(e[5]=(...l)=>u.calculate&&u.calculate(...l))},"计算")])],32),n.repaymentResults.length?(m(),y("div",N,[e[17]||(e[17]=t("h3",null,"还款总额构成",-1)),t("table",null,[t("tbody",null,[t("tr",null,[t("th",null,o((n.repaymentTotal/1e4).toFixed(2))+"万",1),e[13]||(e[13]=t("th",null,null,-1)),t("th",null,o(n.loanAmount*(100-n.downPaymentRatio)/100)+"万",1),e[14]||(e[14]=t("th",null,null,-1)),t("th",null,o((n.totalInterest/1e4).toFixed(2))+"万",1),t("th",null,o(n.loanPeriod),1)]),e[15]||(e[15]=t("tr",null,[t("td",null,"总额"),t("td",null,"="),t("td",null,"贷款"),t("td",null,"+"),t("td",null,"利息"),t("td",null,"年限")],-1))])]),t("p",null,"贷款占比 "+o(n.principalRatio)+"% 利息占比 "+o(n.interestRatio)+"%",1),t("table",null,[t("tbody",null,[e[16]||(e[16]=t("tr",null,[t("th",null,"期数"),t("th",null,"还款金额"),t("th",null,"还款本金"),t("th",null,"还款利息"),t("th",null,"剩余本金")],-1)),(m(!0),y(g,null,k(n.repaymentResults,(l,r)=>(m(),y("tr",{key:r},[t("td",null,o(r+1),1),t("td",null,o(l.repayment),1),t("td",null,o(l.principal),1),t("td",null,o(l.interest),1),t("td",null,o(l.balance),1)]))),128))])])])):w("",!0)],64)}const c=V(M,[["render",S],["__scopeId","data-v-71109a08"]]),D=JSON.parse('{"title":"房贷","description":"","frontmatter":{},"headers":[],"relativePath":"live/mortgage.md","filePath":"live/mortgage.md","lastUpdated":1681804151000}'),B={name:"live/mortgage.md"},j=Object.assign(B,{setup(b){return(e,a)=>(m(),y("div",null,[a[0]||(a[0]=I('<h1 id="房贷" tabindex="-1">房贷 <a class="header-anchor" href="#房贷" aria-label="Permalink to &quot;房贷&quot;">​</a></h1><p><strong>等额本金</strong>是指每期还款金额固定，但每期偿还的本金不同，利息逐渐减少的一种还款方式，每期偿还本金相同，利息逐渐减少，所以每月还款额也逐渐减少。</p><blockquote><p>每期偿还本金 = 贷款本金 ÷ 还款期数<br> 第n期偿还利息 = 剩余贷款 x 贷款利率<br> 每期还款金额 = 每期偿还本金 + 第n期偿还利息<br> 每月利息=(贷款本金－已还本金)×月利率<br> 总利息=每月利息之和</p></blockquote><p><strong>等额本息</strong>是指每期还款金额固定，每期还款金额包括本金和利息，每期偿还的本息金额相同的一种还款方式，每月还款额相同，由于每期偿还的本金不同，总利息收入单调递减。</p><blockquote><p>每期还款金额 = (贷款本金 x 贷款月利率 x (1+贷款月利率)^贷款月数) / ((1+贷款月利率)^贷款月数 -1)<br> 每月利息=贷款本金×月利率×(1－(还款月序号－1)÷贷款月数)<br> 总利息=每月利息×贷款月数－贷款本金</p></blockquote><h2 id="房贷计算" tabindex="-1">房贷计算 <a class="header-anchor" href="#房贷计算" aria-label="Permalink to &quot;房贷计算&quot;">​</a></h2>',6)),A(c)]))}});export{D as __pageData,j as default};
