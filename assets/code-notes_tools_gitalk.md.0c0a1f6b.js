import{_ as s,c as a,o as l,Q as n}from"./chunks/framework.1cc28bed.js";const o="/life/img/code/gitalk.png",g=JSON.parse('{"title":"gitalk 评论接入教程","description":"","frontmatter":{"date":"2021-12-30T15:39:11.000Z"},"headers":[],"relativePath":"code-notes/tools/gitalk.md","filePath":"code-notes/tools/gitalk.md","lastUpdated":1686797227000}'),p={name:"code-notes/tools/gitalk.md"},t=n(`<h1 id="gitalk-评论接入教程" tabindex="-1">gitalk 评论接入教程 <a class="header-anchor" href="#gitalk-评论接入教程" aria-label="Permalink to &quot;gitalk 评论接入教程&quot;">​</a></h1><blockquote><p><a href="https://segmentfault.com/a/1190000018072952" target="_blank" rel="noreferrer">转载并修改自sf</a></p></blockquote><h2 id="安装使用" tabindex="-1">安装使用 <a class="header-anchor" href="#安装使用" aria-label="Permalink to &quot;安装使用&quot;">​</a></h2><h3 id="安装-引入" tabindex="-1">安装 引入 <a class="header-anchor" href="#安装-引入" aria-label="Permalink to &quot;安装 引入&quot;">​</a></h3><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">link</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">rel</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;stylesheet&quot;</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">href</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css&quot;</span><span style="color:#E1E4E8;">&gt;</span></span>
<span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">src</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">script</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">link</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">rel</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;stylesheet&quot;</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">href</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.css&quot;</span><span style="color:#24292E;">&gt;</span></span>
<span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">script</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">src</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;//cdn.bootcss.com/gitalk/1.5.0/gitalk.min.js&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">script</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h3 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用" aria-label="Permalink to &quot;使用&quot;">​</a></h3><h4 id="_1、申请一个oauth-application" tabindex="-1">1、申请一个OAuth application <a class="header-anchor" href="#_1、申请一个oauth-application" aria-label="Permalink to &quot;1、申请一个OAuth application&quot;">​</a></h4><blockquote><p>GitHub OAuth application允许程序来操作你的github账户，可以对github中仓库读写。</p></blockquote><p>申请GitHub OAuth application流程：</p><ol><li>打开github网站登陆后，点击右上角的用户图标，选择Settings</li><li>在Settings页面选择Developer settings选项。</li><li>在Developer settings选择OAuth Apps,然后会在页面右边有一个New OAuth App按钮，点击这个按钮就进入到新建OAuth application页面</li></ol><p>在注册OAuth应用页面有如下几个参数需要填写：</p><blockquote><p>Application name：必填，OAuth的名字<br> Homepage URL：必填，你应用的网址，哪个网站用了Gitalk组件，就填写这个网址<br> Application description：选填，该OAuth的说明<br> Authorization callback URL：必填，授权成功后回调网址，跟Homepage URL参数保持一致就好<br> 这些参数在注册成功后是可以修改。</p></blockquote><p>参数填好后，点<code>Register application</code>按钮即可完成注册。</p><p>注册成功后会自动跳转到这个OAuth应用的页面，或者在Developer settings选择OAuth Apps后就能看见你创建的OAuth应用名字，点击它进入这个OAuth应用的页面：</p><p>找到 clientID clientSecret 后面会用到。</p><h4 id="_2、首先需要在html文件中添加一个容器-gitalk组件会在此处显示" tabindex="-1">2、首先需要在html文件中添加一个容器，Gitalk组件会在此处显示 <a class="header-anchor" href="#_2、首先需要在html文件中添加一个容器-gitalk组件会在此处显示" aria-label="Permalink to &quot;2、首先需要在html文件中添加一个容器，Gitalk组件会在此处显示&quot;">​</a></h4><div class="language-html vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">html</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#E1E4E8;">&lt;</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">id</span><span style="color:#E1E4E8;">=</span><span style="color:#9ECBFF;">&quot;gitalk-container&quot;</span><span style="color:#E1E4E8;">&gt;&lt;/</span><span style="color:#85E89D;">div</span><span style="color:#E1E4E8;">&gt;</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#24292E;">&lt;</span><span style="color:#22863A;">div</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">id</span><span style="color:#24292E;">=</span><span style="color:#032F62;">&quot;gitalk-container&quot;</span><span style="color:#24292E;">&gt;&lt;/</span><span style="color:#22863A;">div</span><span style="color:#24292E;">&gt;</span></span></code></pre></div><h4 id="_3、使用下面的javascript代码来生成gitalk评论" tabindex="-1">3、使用下面的JavaScript代码来生成Gitalk评论 <a class="header-anchor" href="#_3、使用下面的javascript代码来生成gitalk评论" aria-label="Permalink to &quot;3、使用下面的JavaScript代码来生成Gitalk评论&quot;">​</a></h4><div class="language-js vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">js</span><pre class="shiki github-dark vp-code-dark"><code><span class="line"><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">initGitalk</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> () </span><span style="color:#F97583;">=&gt;</span><span style="color:#E1E4E8;"> {</span></span>
<span class="line"><span style="color:#E1E4E8;">    </span><span style="color:#F97583;">const</span><span style="color:#E1E4E8;"> </span><span style="color:#79B8FF;">gitalk</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">=</span><span style="color:#E1E4E8;"> </span><span style="color:#F97583;">new</span><span style="color:#E1E4E8;"> </span><span style="color:#B392F0;">Gitalk</span><span style="color:#E1E4E8;">({</span></span>
<span class="line"><span style="color:#E1E4E8;">        clientID: </span><span style="color:#9ECBFF;">&quot;5301328d56cf49a6d68e&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        clientSecret: </span><span style="color:#9ECBFF;">&quot;dd04918e1a0267bc6eeaf27c1f7c9cc65832db57&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        repo: </span><span style="color:#9ECBFF;">&quot;draugus.github.io&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        owner: </span><span style="color:#9ECBFF;">&quot;draugus&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        admin: [</span><span style="color:#9ECBFF;">&quot;draugus&quot;</span><span style="color:#E1E4E8;">],</span></span>
<span class="line"><span style="color:#E1E4E8;">        id: </span><span style="color:#9ECBFF;">&quot;{{page.title}}&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        language: </span><span style="color:#9ECBFF;">&quot;zh-CN&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        perPage: </span><span style="color:#79B8FF;">10</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        distractionFreeMode: </span><span style="color:#79B8FF;">false</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        pagerDirection: </span><span style="color:#9ECBFF;">&quot;last&quot;</span><span style="color:#E1E4E8;">,</span></span>
<span class="line"><span style="color:#E1E4E8;">        createIssueManually: </span><span style="color:#79B8FF;">false</span></span>
<span class="line"><span style="color:#E1E4E8;">        </span><span style="color:#6A737D;">// updateCountCallback: commentCount</span></span>
<span class="line"><span style="color:#E1E4E8;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#E1E4E8;">    gitalk.</span><span style="color:#B392F0;">render</span><span style="color:#E1E4E8;">(</span><span style="color:#9ECBFF;">&quot;gitalk-container&quot;</span><span style="color:#E1E4E8;">);</span></span>
<span class="line"><span style="color:#E1E4E8;">};</span></span></code></pre><pre class="shiki github-light vp-code-light"><code><span class="line"><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">initGitalk</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> () </span><span style="color:#D73A49;">=&gt;</span><span style="color:#24292E;"> {</span></span>
<span class="line"><span style="color:#24292E;">    </span><span style="color:#D73A49;">const</span><span style="color:#24292E;"> </span><span style="color:#005CC5;">gitalk</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">=</span><span style="color:#24292E;"> </span><span style="color:#D73A49;">new</span><span style="color:#24292E;"> </span><span style="color:#6F42C1;">Gitalk</span><span style="color:#24292E;">({</span></span>
<span class="line"><span style="color:#24292E;">        clientID: </span><span style="color:#032F62;">&quot;5301328d56cf49a6d68e&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        clientSecret: </span><span style="color:#032F62;">&quot;dd04918e1a0267bc6eeaf27c1f7c9cc65832db57&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        repo: </span><span style="color:#032F62;">&quot;draugus.github.io&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        owner: </span><span style="color:#032F62;">&quot;draugus&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        admin: [</span><span style="color:#032F62;">&quot;draugus&quot;</span><span style="color:#24292E;">],</span></span>
<span class="line"><span style="color:#24292E;">        id: </span><span style="color:#032F62;">&quot;{{page.title}}&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        language: </span><span style="color:#032F62;">&quot;zh-CN&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        perPage: </span><span style="color:#005CC5;">10</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        distractionFreeMode: </span><span style="color:#005CC5;">false</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        pagerDirection: </span><span style="color:#032F62;">&quot;last&quot;</span><span style="color:#24292E;">,</span></span>
<span class="line"><span style="color:#24292E;">        createIssueManually: </span><span style="color:#005CC5;">false</span></span>
<span class="line"><span style="color:#24292E;">        </span><span style="color:#6A737D;">// updateCountCallback: commentCount</span></span>
<span class="line"><span style="color:#24292E;">    });</span></span>
<span class="line"></span>
<span class="line"><span style="color:#24292E;">    gitalk.</span><span style="color:#6F42C1;">render</span><span style="color:#24292E;">(</span><span style="color:#032F62;">&quot;gitalk-container&quot;</span><span style="color:#24292E;">);</span></span>
<span class="line"><span style="color:#24292E;">};</span></span></code></pre></div><p>参数说明</p><ul><li>clientID</li></ul><blockquote><p>类型：字符串，必填，申请的OAuth App的Client ID</p></blockquote><ul><li>clientSecret</li></ul><blockquote><p>类型：字符串，必填，申请的OAuth App的Client Secret</p></blockquote><ul><li>repo</li></ul><blockquote><p>类型：字符串，必填，github上的仓库名字，用于存放Gitalk评论</p></blockquote><ul><li>owner</li></ul><blockquote><p>类型：字符串，必填，github仓库的所有者的名字</p></blockquote><ul><li>admin</li></ul><blockquote><p>类型：数组(元素是字符串)，必填，github仓库的所有者和合作者 (对这个 repository 有写权限的用户)</p></blockquote><ul><li>id</li></ul><blockquote><p>类型：字符串，选填，页面的唯一标识。长度必须小于50。此参数用于评论和页面对应的标识，如果想让两个页面用一个评论，可设置两个页面的id一样。默认值：location.href(页面URL)</p></blockquote><ul><li>title</li></ul><blockquote><p>类型：字符串，选填，GitHub issue 的标题，默认值：document.title(HTML中title标签中的值)</p></blockquote><p>配置好会显示如下<a href="https://gitalk.github.io/" target="_blank" rel="noreferrer">效果</a></p><p><img src="`+o+'" alt="1"></p>',36),e=[t];function c(r,i,E,y,u,d){return l(),a("div",null,e)}const k=s(p,[["render",c]]);export{g as __pageData,k as default};
